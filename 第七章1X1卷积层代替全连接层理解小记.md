# 直接看最后的



全连接层

![image-20220901223233737](D:\论文\截图\image-20220901223233737.png)

1X1卷积层

![image-20220713222910469](D:\论文\截图\image-20220713222910469.png)







在全连接层中，输出O1是==X1X2X3== 乘以  ==不同的分量（一个数组w）==  得到的。

在1X1卷积层中3个输入通道的 ==对应位置==  乘以   ==卷积核==  得到  第一条输出通道对应位置的值



O1													一条输出通道对应位置的值（角上）

X1X2X3											3个输入通道的 ==对应位置==（角上）

不同的分量（一个数组w）			卷积核





网络中并列（如第一行第二列那里的块）与核相乘，即==全连接层中另外一套参数放入全连接层==（==即批量大小进入，这个输入结束还有下个输入==）

（类似于对于图片中不同位置的像素，将其抽象为变量（一串数组）来对其进行全连接层的分析和分类）



==多个输出通道（多个核）==就是全连接层中多套与X1X2X3相乘的其他分量（即w2w3）得出O2O3。



对于==多个核的输出（输出为多个通道的网络）==，其是作为==全局平均池化层==的==输入==

即类似于上图中output那样一片片的网络，这是==全局平均池化层==的输入。这每一片都是一个类别，是由上一层NiN（最后一层NiN）来将其造成的。

全局平均池化层对每一片做全部取平均操作，来计算每一个类别的输出值，用softmax来对每一个类别做概率计算。







所以每次1X1卷积，其用多个核来输出多个输出通道（不知道这里是不是要求一个块中通道数一致，也就是跟1X1前那个大的卷积层通道数一致），就类似于全连接层中  输入的数组乘以不同分量（w1w2）得到多个结果（O1O2）











![image-20220901232314621](D:\论文\截图\image-20220901232314621.png)

原本全连接层要输入乘以输出个参数

​    $n_hn_w \times c_i     \times n_hn_w \times c_o$

用1X1卷积层就只要   $c_o \times c_i$   个参数



提问：少在哪里？

答：少在如 输入中网络右上角那块的所有输入通道（批量里的第一组输入数组（即第一个输入样本的X1X2））  和    输出中网络第一行第二列最上面那片的那块（批量里的第二组输入的值（即第二个输入样本）与第一个核相乘所得到的第一个输出通道的值）  之间

如果是全连接，需要参数。

如果是1X1，不用参数。通过网络的特性直接就确保了其位置的特殊性





即1X1对于输入和输出之间的联系做了限制，

原始的方法把网络直接展平会类似于原先全连接层中把不同批次的数据拉长到一个数组里面来全连接



现在的1X1卷积就是把    例如网络中每个不同像素点的数据独立开  ，独立计算其对于各自输出通道的影响。



# 直接看这个

1X1卷积上，1X1的卷积核就是对某个部分的块块的所有通道进行类似全连接的互相关操作。

如下图==浅蓝色方块==

![image-20220713222910469](D:\论文\截图\image-20220713222910469.png)

对于一个像素，有一个很多通道。那么这==几个通道可以看做一个向量==，这个多个通道看做的==向量==就可以看做这个==像素的特征==。

对于一个输入高宽的卷积层输入，==每个像素就是一个样本==。

对于一个卷积层，假设输入大小是   批量大小 X 高 X 宽 X通道数，那么样本数就是批量大小 X 高 X 宽



