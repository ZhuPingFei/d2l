模型容易过拟合

所以要把w限制在一个范围内

因为如果w不限制，会扭曲着迎合数据集

![image-20220618224927176](D:\论文\截图\image-20220618224927176.png)

绿色就是限制了以后，这样就很好

所以我们要  正则化，此处用的就是weightdecay，权重衰退

![image-20220618224957612](D:\论文\截图\image-20220618224957612.png)

==此处 $  { \|  \Bbb w  \| }^2 \le \theta   $  表示的是其所有W的每个项的平方和的值小于$\theta$==

==即保证其中的每个值都会小于$\sqrt{\theta}$==



这个不好用代码体现，所以换一种形式，通过加入惩罚项来限制w

![image-20220618225110208](D:\论文\截图\image-20220618225110208.png)



![image-20220618225240430](D:\论文\截图\image-20220618225240430.png)

![image-20220618225305992](D:\论文\截图\image-20220618225305992.png)

计算梯度这里

$\frac{\lambda}{2}  { \|  \Bbb w  \| }^2    $        两条竖线表示的是范数，没有下标表示默认的l2范数，即元素平方和开根号。因为又开了平方



对其求梯度即对$\frac {\lambda}{2}({w_1}^2+{w_2}^2    + ...  +  {w_n}^2)$  求梯度

即==对 $\frac {\lambda}{2}  { \|  \Bbb w  \| }^2    $  求$\Bbb w$的梯度==就是

对$w_1$的梯度就是$\lambda w_1$（后面全是无关常数）

.

.

.

对$w_n$的梯度就是$\lambda w_n$

==组合起来就是一个向量$\lambda \Bbb w$==



（别的用偏导来体现）













